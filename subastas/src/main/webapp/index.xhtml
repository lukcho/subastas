<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="template.xhtml">
	<ui:define name="titulo">
            Subastas
        </ui:define>
	<ui:define name="contenido">
		<h:form>
			<div class="ui-grid-row">
				<div class="ui-grid-col-10" style="padding-left: 20%;">
					<center>
						<h1>SUBASTAS YACHAY</h1>
					</center>
				</div>
				<div class="ui-grid-col-2">
					<h:graphicImage id="logo" value="/resources/img/logoyachay.png"></h:graphicImage>
				</div>
			</div>
		</h:form>
		<br />
		<h:form id="frm">
			<p:growl id="messages" showDetail="false" />
			<p:layoutUnit position="center" size="450">
				<p:dataGrid var="item" value="#{ofertausuindexBean.listaItems}"
					columns="2" layout="grid" rows="12" paginator="true" id="item" emptyMessage="Sin Datos"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

					<p:panel>
						<h:panelGrid columns="3" style="width:100%"
							columnClasses="Imagen,detalle,ofertar">
							<p:outputPanel>
								<b:column col-sm="12" col-md="12">
									<b:row>
										<b:column col-sm="3" col-md="3">
											<p:graphicImage
												value="/resources/img/items/#{item.itemImagen}" width="120"
												height="120" />
										</b:column>

										<b:column col-sm="6" col-md="6">
											<b:row>
												<b:column col-sm="3" col-md="5">
													<h:outputLabel value="Nombre: " />
												</b:column>
												<b:column col-sm="2" col-md="5">
													<h:outputText value="#{item.itemNombre}">
													</h:outputText>
												</b:column>
											</b:row>
											<b:row>
												<b:column col-sm="3" col-md="5">
													<h:outputLabel value="Valor Base: (USD) " />
												</b:column>
												<b:column col-sm="2" col-md="4">
													<h:outputText value="#{item.itemValorBase}">
													</h:outputText>
												</b:column>
												<b:column col-sm="2" col-md="2">
													<p:commandButton update=":frm:messages"
														style="padding:7px;" value="Ofertar"
														onclick="PF('ic').show();">
													</p:commandButton>
												</b:column>
											</b:row>
											<b:row>
												<b:column col-sm="3" col-md="5">
													<h:outputLabel value="Inicio Subasta:" />
												</b:column>
												<b:column col-sm="2" col-md="4">
													<h:outputText value="#{item.itemFechaSubastaInicio}" >
														<f:convertDateTime pattern="yyyy/MM/dd HH:mm" timeZone="GMT-5"/>
													</h:outputText>
												</b:column>
											</b:row>

											<b:row>
												<b:column col-sm="3" col-md="5">
													<h:outputLabel value="Fin Subasta:" />
												</b:column>
												<b:column col-sm="2" col-md="4">
													<h:outputText value="#{item.itemFechaSubastaFin}">
														<f:convertDateTime pattern="yyyy/MM/dd HH:mm" timeZone="GMT-5"/>
													</h:outputText>
												</b:column>
											</b:row>
										</b:column>
									</b:row>
								</b:column>
							</p:outputPanel>
						</h:panelGrid>
					</p:panel>
				</p:dataGrid>
			</p:layoutUnit>
		</h:form>
		<p:dialog widgetVar="ic" modal="true" showEffect="fade"
			header="Sistema de Subastas Yachay" hideEffect="fade"
			resizable="false">

			<div class="form-bottom">
						<div class="form-box">
				<h2>Ingreso al Sistema 	<i class="fa fa-gavel fa-2x"></i></h2>
			</div>
			
				<h:form id="frmlog">
					<p:messages closable="true" />
					<b:inputText placeholder="USUARIO" value="#{sessionBean.nick}"
						disabled="false">
						<p:ajax listener="#{sessionBean.veri()}" update=":frm"></p:ajax>
					</b:inputText>
					<b:inputSecret placeholder="CONTRASE&Ntilde;A" disabled="false"
						value="#{sessionBean.pass}">
					</b:inputSecret>
					<b:commandButton value="Ingresar" iconAwesome="check-square-o"
						action="#{sessionBean.login}" styleClass="btn-block btnSend"
						look="primary" update="frmlog" />
				</h:form>
			</div>
		</p:dialog>
		<p:dialog header="ImÃ¡gen de Flujo de Ofertas" widgetVar="im"
			modal="true" showEffect="fade" hideEffect="fade" resizable="false">
			<div class="row topForm">
				<div class="col-sm-8 col-sm-offset-2 form-box">
					<div class="form-bottom">
						<h:panelGrid>
							<p:graphicImage value="#{facesContex}/imgevent/300.jpg"
								width="150" height="150" />
						</h:panelGrid>
					</div>
				</div>
			</div>
		</p:dialog>
	</ui:define>
</ui:composition>
</html>
